#!/usr/bin/env bash
# vim ft=bash

# use favs playlist or whole library
[[ "$(basename "$0")" == *_favourite* ]] && wsong="playlist Favorites" || wsong="listall"

# choose song from whole specifed location
filename=$(mpc -f '(%time%) %file%' $wsong | fzf --reverse | cut -d ' ' -f2-)
[ -z "$filename" ] && exit 1

# add the song to the current playlist
mpc insert "$filename"

# if we only want to queue next song
[[ "$(basename "$0")" == *_queue ]] && exit 0

# play the song
mpc next

