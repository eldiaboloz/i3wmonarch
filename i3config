set $mod Mod4

for_window [class="^Gsimplecal$"] floating enable move left 100px,move down 50px

# jetbrains popup fix ... https://youtrack.jetbrains.com/issue/IDEA-188824#comment=27-2777552
#for_window [class="^jetbrains-.+"][window_type=dialog] focus
#for_window [class="^jetbrains-.+"][window_type=con] focus

smart_gaps on
smart_borders on

for_window [class="^.*"] border pixel 0
for_window [class="^Xfce4-terminal$"] border pixel 1

gaps inner 0
gaps outer 0


for_window [class="^mpv$"] floating enable sticky enable
for_window [class="^mpv$"] resize set 400 300
for_window [class="^mpv$"] move absolute position 3400px 200px

bindsym --release $mod+Shift+Control+Menu exec --no-startup-id "fix_window_mpv"

for_window [window_role="top_right_info"] floating enable sticky enable
for_window [window_role="top_right_info"] resize set 640 240
for_window [window_role="top_right_info"] move absolute position 3130px 100px

for_window [class="^Webview$" instance="^webview$"] floating enable sticky enable
for_window [class="^Webview$" instance="^webview$"] resize set 800 600
for_window [class="^Webview$" instance="^webview$"] move absolute position 2980px 100px

bindsym $mod+Menu exec --no-startup-id "screenshot"
bindsym --release $mod+Shift+Menu exec --no-startup-id "screenshot 1"

bindsym --release $mod+c exec --no-startup-id 'xdotool_paste_chromium'

# workspace definitions
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5 "
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

#workspace $ws7 gaps inner 20
#workspace $ws7 gaps outer 0

#workspace $ws8 gaps inner 15
#workspace $ws8 gaps outer 5

#workspace $ws9 gaps inner 15
#workspace $ws9 gaps outer 5

#workspace $ws10 gaps inner 15
#workspace $ws10 gaps outer 5

set $leftout "HDMI2"
set $rightout "VGA1"

# colors

client.focused #96a900 #859900 #fdf6e3 #859900
client.focused_inactive #369be2 #269be2 #eee8d5 #6c71c4
client.unfocused #369be2 #269be2 #ffffff #586e75
client.urgent #cb4b16 #dc322f #fdf6e3 #dc322
font pango: Cantarell, Material Design Icons 10
floating_modifier $mod

bindsym $mod+Escape exec --no-startup-id toggle_xmodmap
bindsym $mod+grave exec --no-startup-id toggle_xmodmap

bindsym $mod+F10 exec --no-startup-id toggle_xmodmap_vi

bindsym XF86AudioRaiseVolume exec --no-startup-id audiocontrol inc 1
bindsym XF86AudioLowerVolume exec --no-startup-id audiocontrol dec 1
bindsym XF86AudioMute exec --no-startup-id audiocontrol mute
bindsym Control+XF86AudioPlay exec --no-startup-id youtube_currentsong

bindsym Mod1+$mod+bracketright exec --no-startup-id audiocontrol inc
bindsym Mod1+$mod+bracketleft exec --no-startup-id audiocontrol dec

bindsym Mod5+$mod+bracketright exec --no-startup-id audiocontrol inc
bindsym Mod5+$mod+bracketleft exec --no-startup-id audiocontrol dec

# audioplayer controls
bindsym XF86AudioPlay exec --no-startup-id audioplayer_control toggle
bindsym XF86AudioPause exec --no-startup-id audioplayer_control pause
bindsym XF86AudioNext exec --no-startup-id audioplayer_control next
bindsym XF86AudioPrev exec --no-startup-id audioplayer_control prev
bindsym XF86AudioStop exec --no-startup-id audioplayer_control stop

bindsym $mod+b exec --no-startup-id pkill notify-osd

# toggle pause
bindsym $mod+p exec --no-startup-id audioplayer_control toggle
# prev/next
bindsym $mod+bracketleft exec --no-startup-id audioplayer_control prev
bindsym $mod+bracketright exec --no-startup-id audioplayer_control next
# seek -/+
bindsym $mod+Shift+bracketleft exec --no-startup-id audioplayer_control seekd
bindsym $mod+Shift+bracketright exec --no-startup-id audioplayer_control seeki

bindsym Shift+XF86AudioPrev exec --no-startup-id audioplayer_control seekd
bindsym Shift+XF86AudioNext exec --no-startup-id audioplayer_control seeki

bindsym $mod+Control+Shift+bracketleft exec --no-startup-id audioplayer_control seekd60
bindsym $mod+Control+Shift+bracketright exec --no-startup-id audioplayer_control seeki60

# choose from library
bindsym $mod+o exec --no-startup-id xfce4-terminal -e audioplayer_choose_song --role="floatme"
# choose from favourites
bindsym $mod+Shift+o exec --no-startup-id xfce4-terminal -e audioplayer_choose_song_favourite --role="floatme"
# queue from library
bindsym $mod+Control+o exec --no-startup-id xfce4-terminal -e audioplayer_choose_song_queue --role="floatme"
# queue from favourites
bindsym $mod+Control+Shift+o exec --no-startup-id xfce4-terminal -e audioplayer_choose_song_favourite_queue --role="floatme"
# add current song to favourties
bindsym $mod+Shift+f exec --no-startup-id add_current_song_to_favourtes

# try to open current song in youtube
bindsym $mod+Shift+y exec --no-startup-id youtube_currentsong

#start audioplayer
bindsym $mod+Shift+p exec start_audioplayer
bindsym XF86Tools exec start_audioplayer

bindsym XF86Calculator exec xfce4-terminal -e qalc --role="calculator"

# open normal term
bindsym $mod+Return exec --no-startup-id xfce4-terminal

# open floating term
bindsym $mod+Shift+Return exec --no-startup-id xfce4-terminal --role="floatme"


bindsym Mod1+Control+L exec --no-startup-id monitors_off_lock
bindsym Mod1+Control+Shift+L exec --no-startup-id monitors_off_lock 1

bindsym $mod+Shift+q kill
#bindsym $mod+d exec dmenu_run
bindsym $mod+d exec --no-startup-id rofi -show run 
bindsym $mod+Shift+d exec --no-startup-id rofi -show window
bindsym $mod+Shift+s exec --no-startup-id rofi -show ssh

bindsym $mod+Mod1+P exec --no-startup-id xfce4-terminal -e "$HOME/dev/i3wmonarch/scripts/git_pull_svn_rebase_work_float.sh" --role="floatme"
bindsym $mod+Mod1+L exec --no-startup-id xfce4-terminal -e "gitcommitpush 1" --role="floatme"

# focus window
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move window
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# modify layout
bindsym $mod+v split v
bindsym $mod+h split h
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+a focus parent

# modify window property
bindsym $mod+Shift+w sticky toggle 
bindsym $mod+Mod1+space focus mode_toggle
bindsym $mod+Shift+space floating toggle
bindsym $mod+f fullscreen toggle

# BEGIN programs on workspaces
#
# navicat
assign [class="^Wine$" instance="^navicat\.exe$"] $ws2
assign [class="^jetbrains-datagrip$"] $ws2
# IDEs on first workspace
assign [class="^NetBeans IDE .*$"] $ws1
assign [class="^jetbrains-phpstorm$"] $ws1
assign [class="^jetbrains-studio$"] $ws1
assign [class="^jetbrains-pycharm-ce$"] $ws1
assign [class="^jetbrains-idea-ce$"] $ws1
# skype 
assign [class="^Skype$"] $ws3
assign [class="^skypeforlinux$"] $ws3
# discord 
assign [class="^discord$"] $ws3
# Thunderbird 
assign [class="^Thunderbird$"] $ws3
# viber
assign [class="^ViberPC$"] $ws3
# chrome-unstable
assign [class="^Google-chrome-unstable$"] $ws4
# chromium
assign [class="^Chromium$"] $ws5
# audioplayer in terminal
assign [window_role="termaudioplayer"] $ws3
# tmuxwww session in terminal
assign [window_role="tmuxwww"] $ws10
# visual studio code oss
assign [class="^code-oss$" window_role="^browser-window$"] $ws7
# qalc
for_window [window_role="calculator"] floating enable
# gcolor2
for_window [class="^Gcolor2$"] sticky enable
# enable float when requested
for_window [window_role="floatme"] floating enable
for_window [window_role="floatme"] resize set 1280 640
for_window [window_role="floatme"] move position center


# END programs on workspaces

# mclip.py
#set $mclip /work/dev/rofi-clipboard-manager/mclip.py
#bindsym control+shift+v exec rofi -modi "clipboard:$mclip menu" -show clipboard && $mclip paste
#exec --no-startup-id $mclip daemon
# mclip.py
#
# BEGIN workspaces - home
workspace $ws1 output $leftout
workspace $ws2 output $leftout
workspace $ws3 output $leftout
workspace $ws4 output $rightout
workspace $ws5 output $rightout
workspace $ws6 output $rightout
workspace $ws7 output $rightout
workspace $ws8 output $rightout
workspace $ws9 output $rightout
workspace $ws10 output $rightout

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

bindsym $mod+Control+Left workspace prev
bindsym $mod+Control+Right workspace next

bindsym $mod+Shift+Control+Left move workspace prev;workspace prev
bindsym $mod+Shift+Control+Right move workspace next;workspace next

bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# TODO: context aware - double tapping etc

mode "remote"{
    bindsym XF86AudioRaiseVolume exec --no-startup-id audioplayer_control next
    bindsym XF86AudioLowerVolume exec --no-startup-id audioplayer_control seeki
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# resize window (you can also use the mouse for that)
mode "resize" {
    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Down resize grow height 10 px or 10 ppt
    bindsym Up resize shrink height 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt
    
	bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

bindsym $mod+m bar mode invisible
bindsym $mod+Shift+m bar mode dock

bar {
	bindsym button4 nop
	bindsym button5 nop
	strip_workspace_numbers yes
    separator_symbol "  "
	status_command i3blocks -c ~/.i3blocks/left.conf
	position          top
    font pango:DejaVu Sans Mono for Powerline, Icons 14, FontAwesome 14

	id bar-1
	output $leftout
	tray_output none
	colors {
        focused_workspace #96a900 #859900 #fdf6e3
        inactive_workspace #369be2 #269be2 #ffffff
        active_workspace #96a900 #266E9E #fdf6e3
    }
}

bar {
	bindsym button4 nop
	bindsym button5 nop
    strip_workspace_numbers yes
    separator_symbol "  "
    status_command i3blocks -c ~/.i3blocks/right.conf
    position          top
    font pango:DejaVu Sans Mono for Powerline, Icons 14, FontAwesome 14
    id bar-2
	output $rightout
	tray_output $rightout
    colors {
        focused_workspace #96a900 #859900 #fdf6e3
        inactive_workspace #369be2 #269be2 #ffffff
        active_workspace #96a900 #266E9E #fdf6e3
    }

}
bar {
	bindsym button4 nop
	bindsym button5 nop
    workspace_buttons no
    separator_symbol " "
    status_command i3blocks -c ~/.i3blocks/right_bottom_coincaps.conf
    position          bottom
    font pango:DejaVu Sans Mono for Powerline, Icons 14, FontAwesome 14
    id bar-4
	output $rightout
	tray_output none
    colors {
        focused_workspace #96a900 #859900 #fdf6e3
        inactive_workspace #369be2 #269be2 #ffffff
        active_workspace #96a900 #266E9E #fdf6e3
    }
}
bar {
	bindsym button4 nop
	bindsym button5 nop
    workspace_buttons no
    separator_symbol " "
    status_command i3blocks -c ~/.i3blocks/right_bottom_rigs_power.conf
    position          bottom
    font pango:DejaVu Sans Mono for Powerline, Icons 14, FontAwesome 14
    id bar-6
	output $rightout
	tray_output none
    colors {
        focused_workspace #96a900 #859900 #fdf6e3
        inactive_workspace #369be2 #269be2 #ffffff
        active_workspace #96a900 #266E9E #fdf6e3
    }
}

bar {
	bindsym button4 nop
	bindsym button5 nop
    workspace_buttons no
    separator_symbol " "
    status_command i3blocks -c ~/.i3blocks/right_bottom_miners.conf
    position          bottom
    font pango:DejaVu Sans Mono for Powerline, Icons 12, FontAwesome 12
    id bar-3
	output $rightout
	tray_output none
    colors {
        focused_workspace #96a900 #859900 #fdf6e3
        inactive_workspace #369be2 #269be2 #ffffff
        active_workspace #96a900 #266E9E #fdf6e3
    }
}


